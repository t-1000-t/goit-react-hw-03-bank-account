{"version":3,"sources":["components/Controls/Controls.module.css","components/Balance/Balance.module.css","components/TransactionHistory/TransactionHistory.module.css","components/Dashboard/Dashboard.module.css","components/Controls/Controls.jsx","components/Balance/Balance.jsx","components/TransactionHistory/TransactionHistory.jsx","components/Service/localStorage.js","components/Dashboard/Dashboard.jsx","components/App/App.jsx","index.js"],"names":["module","exports","controls","styles","Controls","state","amount","hendleChange","e","setState","currentTarget","value","hendleSubmit","preventDefault","reset","handleBtnCheckSum","Number","toast","warn","position","POSITION","BOTTOM_LEFT","props","onBalance","onWithdraw","name","onDeposit","error","this","className","id","onSubmit","type","min","step","onChange","placeholder","onClick","autoClose","transition","Zoom","Component","balances","balance","Balance","income","expenses","role","aria-label","toFixed","history","ids","shortid","generate","TransactionHistory","items","map","item","key","date","val","localStorage","setItem","JSON","stringify","err","console","log","trans","getItem","parse","dashboard","Dashboard","transactions","handleBtn","note","Date","toLocaleString","sumType","filter","reduce","acc","newLocStore","prevProps","prevState","length","defaultProps","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.2a340399.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"controls\":\"Controls_controls__3MPxN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"balance\":\"Balance_balance__FxzYA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"history\":\"TransactionHistory_history___RpYU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dashboard\":\"Dashboard_dashboard__26B9y\",\"controls\":\"Dashboard_controls__2iEoq\",\"balance\":\"Dashboard_balance__3Ls7y\",\"history\":\"Dashboard_history__3S6bw\"};","import React, { Component } from 'react';\r\nimport { ToastContainer, toast, Zoom } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport T from 'prop-types';\r\nimport styles from './Controls.module.css';\r\n\r\nconst controls = [styles.controls];\r\n\r\nclass Controls extends Component {\r\n  static propTypes = {\r\n    onBalance: T.string.isRequired,\r\n    onDeposit: T.func.isRequired,\r\n    onWithdraw: T.func.isRequired,\r\n  };\r\n\r\n  state = {\r\n    amount: '',\r\n  };\r\n\r\n  hendleChange = e => {\r\n    this.setState({\r\n      amount: e.currentTarget.value,\r\n    });\r\n  };\r\n\r\n  hendleSubmit = e => {\r\n    e.preventDefault();\r\n    this.setState({\r\n      amount: '',\r\n    });\r\n  };\r\n\r\n  reset = () => {\r\n    this.setState({\r\n      amount: '',\r\n    });\r\n  };\r\n\r\n  handleBtnCheckSum = e => {\r\n    const { amount } = this.state;\r\n    if (Number(amount === '0' || amount === '')) {\r\n      toast.warn('Введите сумму для проведения операции!', {\r\n        position: toast.POSITION.BOTTOM_LEFT,\r\n      });\r\n      return;\r\n    }\r\n    if (Number(amount) < 0) {\r\n      toast.warn('Введите значение без знака \"-\"!', {\r\n        position: toast.POSITION.BOTTOM_LEFT,\r\n      });\r\n      return;\r\n    }\r\n    if (Number(amount) > 0 && Number(amount) <= this.props.onBalance) {\r\n      if (Number(amount) > 0) {\r\n        this.props.onWithdraw(amount, e);\r\n        this.reset();\r\n      }\r\n    } else if (Number(amount) > 0 && e.currentTarget.name === 'Deposit') {\r\n      this.props.onDeposit(amount, e);\r\n\r\n      this.reset();\r\n    } else {\r\n      toast.error('На счету недостаточно средств для проведения операции!', {\r\n        position: toast.POSITION.BOTTOM_LEFT,\r\n      });\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { amount } = this.state;\r\n\r\n    return (\r\n      <section className={controls}>\r\n        <form id=\"form\" className=\"Form\" onSubmit={this.hendleSubmit}>\r\n          <input\r\n            type=\"number\"\r\n            name=\"amount\"\r\n            min=\"0.00\"\r\n            step=\"0.01\"\r\n            onChange={this.hendleChange}\r\n            value={amount}\r\n            placeholder=\"введите сумму\"\r\n          />\r\n          <button name=\"Deposit\" type=\"button\" onClick={this.handleBtnCheckSum}>\r\n            Deposit\r\n          </button>\r\n\r\n          <button\r\n            name=\"Withdraw\"\r\n            type=\"button\"\r\n            onClick={this.handleBtnCheckSum}\r\n          >\r\n            Withdraw\r\n          </button>\r\n          <ToastContainer autoClose={2500} transition={Zoom} />\r\n        </form>\r\n      </section>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Controls;\r\n","import React from 'react';\r\nimport styles from './Balance.module.css';\r\n\r\nconst balances = [styles.balance];\r\n\r\nconst Balance = ({ balance, income, expenses }) => (\r\n  <section className={balances}>\r\n    <span role=\"img\" aria-label=\"high\">\r\n      ⬆️ {Number(income).toFixed(2)}$\r\n    </span>\r\n    <span role=\"img\" aria-label=\"low\">\r\n      ⬇️ {Number(expenses).toFixed(2)}$\r\n    </span>\r\n    <span role=\"img\" aria-label=\"balance\">\r\n      Balance: {Number(balance).toFixed(2)}$\r\n    </span>\r\n  </section>\r\n);\r\n\r\nexport default Balance;\r\n","import React from 'react';\r\nimport T from 'prop-types';\r\nimport shortid from 'shortid';\r\nimport styles from './TransactionHistory.module.css';\r\n\r\nconst history = [styles.history];\r\n\r\nconst ids = {\r\n  id: shortid.generate(),\r\n};\r\n\r\nconst TransactionHistory = ({ items }) => (\r\n  <table className={history}>\r\n    <thead>\r\n      <tr>\r\n        <th>Transaction</th>\r\n        <th>Amount</th>\r\n        <th>Date</th>\r\n      </tr>\r\n    </thead>\r\n    <tbody>\r\n      {items.map(item => (\r\n        <tr key={ids.id}>\r\n          <td>{item.type}</td>\r\n          <td>{item.amount}$</td>\r\n          <td>{item.date}</td>\r\n        </tr>\r\n      ))}\r\n    </tbody>\r\n  </table>\r\n);\r\n\r\nTransactionHistory.propTypes = {\r\n  items: T.arrayOf(\r\n    T.shape({\r\n      type: T.string.isRequired,\r\n      amount: T.number.isRequired,\r\n      date: T.number.isRequired,\r\n    }),\r\n  ),\r\n};\r\n\r\nexport default TransactionHistory;\r\n","const saveStorage = (key, val) => {\r\n  try {\r\n    localStorage.setItem(key, JSON.stringify(val));\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n};\r\nconst getStorage = key => {\r\n  try {\r\n    const trans = localStorage.getItem(key);\r\n    return trans ? JSON.parse(trans) : '';\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n};\r\n\r\nexport default { saveStorage, getStorage };\r\n","import React, { Component } from 'react';\r\nimport shortid from 'shortid';\r\nimport Controls from '../Controls/Controls';\r\nimport Balance from '../Balance/Balance';\r\nimport TransactionHistory from '../TransactionHistory/TransactionHistory';\r\nimport styles from './Dashboard.module.css';\r\nimport newLocStore from '../Service/localStorage';\r\n\r\nconst dashboard = [styles.dashboard];\r\n\r\nclass Dashboard extends Component {\r\n  static propTypes = {};\r\n\r\n  static defaultProps = {\r\n    balance: '',\r\n  };\r\n\r\n  state = {\r\n    balance: '',\r\n    transactions: [],\r\n  };\r\n\r\n  componentDidMount() {\r\n    const balance = newLocStore.getStorage('balance');\r\n    const transactions = newLocStore.getStorage('transactions');\r\n\r\n    if (balance && transactions) {\r\n      this.setState({ transactions, balance });\r\n    }\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    const { transactions, balance } = this.state;\r\n\r\n    if (prevState.transactions !== transactions) {\r\n      newLocStore.saveStorage('transactions', transactions);\r\n    }\r\n\r\n    if (prevState.balance !== balance) {\r\n      newLocStore.saveStorage('balance', balance);\r\n    }\r\n  }\r\n\r\n  handleBtn = (amount, e) => {\r\n    const note = {\r\n      id: shortid.generate(),\r\n      date: new Date().toLocaleString(),\r\n      amount,\r\n      type: e.currentTarget.name,\r\n    };\r\n    this.setState(state => ({\r\n      transactions: [note, ...state.transactions],\r\n      balance:\r\n        note.type === 'Deposit'\r\n          ? Number(state.balance) + Number(amount)\r\n          : Number(state.balance) - Number(amount),\r\n    }));\r\n  };\r\n\r\n  sumType = type => {\r\n    const { transactions } = this.state;\r\n    return transactions\r\n      .filter(e => e.type === type)\r\n      .reduce((acc, e) => Number(acc) + Number(e.amount), 0);\r\n  };\r\n\r\n  render() {\r\n    const { transactions, balance } = this.state;\r\n    return (\r\n      <div className={dashboard}>\r\n        <Controls\r\n          onDeposit={this.handleBtn}\r\n          onWithdraw={this.handleBtn}\r\n          onBalance={balance}\r\n        />\r\n        <Balance\r\n          income={this.sumType('Deposit')}\r\n          expenses={this.sumType('Withdraw')}\r\n          balance={balance}\r\n        />\r\n        {transactions.length > 0 && <TransactionHistory items={transactions} />}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Dashboard;\r\n","import React from 'react';\r\nimport './App.css';\r\nimport Dashboard from '../Dashboard/Dashboard';\r\n\r\nconst App = () => (\r\n  <div className=\"App\">\r\n    <Dashboard />\r\n  </div>\r\n);\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './components/App/App.css';\r\nimport App from './components/App/App';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n"],"sourceRoot":""}